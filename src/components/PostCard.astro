---
import type { PostSummary } from "@/utils/blog";

interface Props {
  post: PostSummary;
  lang?: string;
}

const { post, lang = "es" } = Astro.props;

const formattedDate = post.date.toLocaleDateString(lang === "es" ? "es-ES" : "en-US", {
  year: "numeric",
  month: "long",
  day: "numeric",
});
---

<article class="post-card">
  <div class="post-card__header">
    <a href={`/blog/${post.slug}`} class="post-card__title">
      {post.title}
    </a>
    <time class="post-card__date" datetime={post.date.toISOString()}>
      {formattedDate}
    </time>
  </div>

  <p class="post-card__excerpt">{post.excerpt}</p>

  {
    post.tags.length > 0 && (
      <div class="post-card__tags">
        {post.tags.map((tag) => (
          <span class="tag">{tag}</span>
        ))}
      </div>
    )
  }

  <div class="post-card__footer">
    <span class="post-card__category">{post.category}</span>
    {post.updateDate && <span class="post-card__updated">Updated</span>}
  </div>
</article>
