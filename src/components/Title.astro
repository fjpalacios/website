---
import Icon from "@components/Icon.astro";

interface Props {
  title: string;
  icon?: string; // Optional icon name (e.g., "book", "file-text")
  srOnly?: boolean; // Screen reader only - visually hidden
  useAsPagefindTitle?: boolean; // Use this title for Pagefind indexing
  headingLevel?: "h1" | "h2"; // Allow specifying heading level
}

const { title, icon, srOnly = false, useAsPagefindTitle = false, headingLevel = "h2" } = Astro.props;
const HeadingTag = headingLevel;
---

<div class:list={["title", { "sr-only": srOnly }]}>
  {
    useAsPagefindTitle && (
      <span data-pagefind-meta="title" style="display: none;">
        {title}
      </span>
    )
  }
  <HeadingTag>
    {icon && <Icon name={icon} size="md" class="title__icon" />}
    {title}
  </HeadingTag>
</div>

<style lang="scss">
  .title {
    h1,
    h2 {
      display: flex;
      align-items: center;
    }
  }
</style>
