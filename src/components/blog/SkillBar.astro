---
import { darken } from "@utils/colors";

interface Props {
  text: string;
  width: number;
  color?: string;
}

const { text, width, color = "#34d44a" } = Astro.props;
const darkColor = darken(color, 25);
const clampedWidth = Math.min(100, Math.max(0, width));
---

<div class="skill-bar">
  <div class="skill-bar__text" style={`background-color: ${darkColor}`}>
    {text}
  </div>
  <div class="skill-bar__box">
    <div class="skill-bar__box__level" style={`background-color: ${color}; width: ${clampedWidth}%`}></div>
    <div class="skill-bar__box__percent">{clampedWidth}%</div>
  </div>
</div>
